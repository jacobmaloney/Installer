<Window x:Class="InstallerBuilder.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:InstallerBuilder"
        mc:Ignorable="d"
        Title="Installer Builder" Height="600" Width="900"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Installer Builder" FontSize="24" FontWeight="Bold"/>
            <TextBlock Text="Create professional installers for your .NET applications"
                       FontSize="14" Foreground="Gray" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Main Content -->
        <TabControl Grid.Row="1" x:Name="WizardTabs" SelectionChanged="WizardTabs_SelectionChanged">
            <!-- Step 1: Select Solution -->
            <TabItem Header="1. Select Solution" x:Name="TabSelectSolution">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Select Solution File" FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>

                    <Grid Grid.Row="1" Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="TxtSolutionPath" Grid.Column="0" Padding="8" FontSize="14" IsReadOnly="True"/>
                        <Button x:Name="BtnBrowseSolution" Grid.Column="1" Content="Browse..." Width="100" Margin="10,0,0,0"
                                Padding="8" Click="BtnBrowseSolution_Click"/>
                    </Grid>

                    <Button Grid.Row="2" x:Name="BtnAnalyzeSolution" Content="Analyze Solution" Width="150"
                            HorizontalAlignment="Left" Padding="8" Click="BtnAnalyzeSolution_Click" IsEnabled="False"/>

                    <Border Grid.Row="3" BorderBrush="LightGray" BorderThickness="1" Margin="0,20,0,0" Padding="10"
                            x:Name="AnalysisResultsPanel" Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock Text="Analysis Results" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <TextBlock x:Name="TxtAnalysisResults" TextWrapping="Wrap" FontSize="14"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </TabItem>

            <!-- Step 2: Configure Installer -->
            <TabItem Header="2. Configure" x:Name="TabConfigure" IsEnabled="False">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <Grid Margin="20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Text="Configure Installer Settings" FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>

                        <StackPanel Grid.Row="1">
                            <TextBlock Text="Application Name" FontWeight="Bold" Margin="0,0,0,5"/>
                            <TextBox x:Name="TxtApplicationName" Padding="8" Margin="0,0,0,15"/>

                            <TextBlock Text="IIS Site Name" FontWeight="Bold" Margin="0,0,0,5"/>
                            <TextBox x:Name="TxtSiteName" Padding="8" Margin="0,0,0,15"/>

                            <TextBlock Text="Port" FontWeight="Bold" Margin="0,0,0,5"/>
                            <TextBox x:Name="TxtPort" Text="80" Padding="8" Margin="0,0,0,15"/>

                            <TextBlock Text="Host Name (optional)" FontWeight="Bold" Margin="0,0,0,5"/>
                            <TextBox x:Name="TxtHostName" Padding="8" Margin="0,0,0,15"
                                     ToolTip="Leave empty for localhost or specify domain (e.g., myapp.local)"/>

                            <CheckBox x:Name="ChkCreateNewSite" Content="Create new IIS site" IsChecked="True"
                                      Margin="0,10,0,5" FontSize="14"/>
                            <TextBlock Text="If unchecked, application will be added to Default Web Site"
                                       Foreground="Gray" FontSize="12" Margin="20,0,0,15"/>

                            <TextBlock Text="App Pool Name" FontWeight="Bold" Margin="0,0,0,5"/>
                            <TextBox x:Name="TxtAppPoolName" Padding="8" Margin="0,0,0,15"/>

                            <TextBlock Text="Output Path" FontWeight="Bold" Margin="0,0,0,5"/>
                            <Grid Margin="0,0,0,15">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="TxtOutputPath" Grid.Column="0" Padding="8" IsReadOnly="True"/>
                                <Button x:Name="BtnBrowseOutput" Grid.Column="1" Content="Browse..." Width="100"
                                        Margin="10,0,0,0" Padding="8" Click="BtnBrowseOutput_Click"/>
                            </Grid>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </TabItem>

            <!-- Step 3: Generate -->
            <TabItem Header="3. Generate" x:Name="TabGenerate" IsEnabled="False">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Generate Installer" FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>

                    <Button Grid.Row="1" x:Name="BtnGenerate" Content="Generate Installer" Width="200"
                            HorizontalAlignment="Left" Padding="12" FontSize="14" Click="BtnGenerate_Click" Margin="0,0,0,20"/>

                    <Border Grid.Row="2" BorderBrush="LightGray" BorderThickness="1" Padding="10">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="TxtGenerationLog" TextWrapping="Wrap" FontFamily="Consolas" FontSize="12"/>
                        </ScrollViewer>
                    </Border>
                </Grid>
            </TabItem>
        </TabControl>

        <!-- Navigation Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button x:Name="BtnPrevious" Content="Previous" Width="100" Padding="8" Margin="0,0,10,0"
                    Click="BtnPrevious_Click" IsEnabled="False"/>
            <Button x:Name="BtnNext" Content="Next" Width="100" Padding="8"
                    Click="BtnNext_Click" IsEnabled="False"/>
        </StackPanel>
    </Grid>
</Window>
